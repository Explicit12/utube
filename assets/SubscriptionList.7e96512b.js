import{y as x,k as s,c as o,e as d,d as I,u as A,r as v,s as O,l as B,b as T,U as L,o as U,J as g,F as _,q as y,v as b,w as z,t as k,f,g as D,E as N,D as R,x as V}from"./index.d2907862.js";import{S as $}from"./SecondaryButton.635f9f1f.js";const E={},F=d("span",{class:"flex animate-pulse items-center gap-2"},[d("div",{class:"h-8 w-10 rounded-lg bg-gray-200"}),d("span",{class:"h-4 w-full rounded-sm bg-gray-200"})],-1),M=[F];function P(l,t){return s(),o("li",null,M)}const q=x(E,[["render",P]]),J={class:"space-y-5 pt-6"},j=["src"],G={key:1,class:"h-8 w-8 rounded-lg bg-gray-200"},H={class:"overflow-hidden text-ellipsis whitespace-nowrap"},K=I({__name:"SubscriptionList",setup(l){const n=A(),a=v(new Set),m=v(6),{subscriptions:i}=O(n),C=B(()=>new Set([...a.value].slice(0,m.value))),{t:p}=T();return L(()=>i.value.size,async()=>{var h;const u=(h=[...a.value].find(e=>!i.value.has(e.authorId)))==null?void 0:h.authorId,c=[...i.value].filter(e=>![...a.value].find(r=>r.authorId===e));u?a.value=new Set([...a.value].filter(e=>e.authorId!==u)):c.length&&(await Promise.all(c.map(r=>g(r)))).forEach(r=>{[...a.value].find(S=>S.authorId===r.authorId)||a.value.add(r)})}),U(()=>{Promise.all([...i.value].map(g)).then(u=>{a.value=new Set(u)})}),(u,c)=>{const h=V("RouterLink");return s(),o(_,null,[d("ul",J,[a.value.size?(s(!0),o(_,{key:0},y(f(C),e=>(s(),o("li",{key:e.author},[b(h,{to:{name:"channel",params:{id:e.authorId}},class:"flex items-center gap-2 font-sans font-normal text-gray-900"},{default:z(()=>[e.authorThumbnails[0]?(s(),o("img",{key:0,src:e.authorThumbnails[0].url,decoding:"async",referrerpolicy:"no-referrer",crossorigin:"anonymous",loading:"lazy",alt:"channel avatar",class:"rounded-lg",width:"32",height:"32"},null,8,j)):(s(),o("div",G)),d("span",H,k(e.author),1)]),_:2},1032,["to"])]))),128)):(s(),o(_,{key:1},y(6,e=>b(q,{key:e})),64))]),a.value.size&&a.value.size>6?(s(),D($,{key:0,class:"mt-4 w-full",onClick:c[0]||(c[0]=e=>m.value=m.value===6?f(i).size:6)},{default:z(()=>[N(k(m.value<=6?f(p)("button-more"):f(p)("button-less")),1)]),_:1})):R("",!0)],64)}}});function w(l){l.__i18n=l.__i18n||[],l.__i18n.push({locale:"",resource:{"en-US":{"button-more":t=>{const{normalize:n}=t;return n(["More"])},"button-less":t=>{const{normalize:n}=t;return n(["Less"])}},"uk-UA":{"button-more":t=>{const{normalize:n}=t;return n(["\u0411\u0456\u043B\u044C\u0448\u0435"])},"button-less":t=>{const{normalize:n}=t;return n(["\u041C\u0435\u043D\u0448\u0435"])}},"ru-RU":{"button-more":t=>{const{normalize:n}=t;return n(["\u0415\u0449\u0451"])},"button-less":t=>{const{normalize:n}=t;return n(["\u041C\u0435\u043D\u044C\u0448\u0435"])}}}})}typeof w=="function"&&w(K);export{K as default};
