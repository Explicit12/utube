import{d as x,a as B,r,m as b,o as k,c as l,F as _,e as o,v as c,f as h,g as m,B as C,_ as I,h as E,i as V,K as T,z as j,j as F,k as t,I as N}from"./index.253ef467.js";import{_ as R,C as q}from"./ChannelCompactSkeleton.1ddf761d.js";import"./TheButton.vue_vue_type_script_setup_true_lang.c667e72f.js";const A={class:"flex flex-col justify-center gap-4 px-4 lg:px-6"},z={key:0,class:"relative"},D=["src","width","height"],P=["src","width","height"],$={key:1,class:"mt-8 flex h-screen max-h-[170px] w-full items-center justify-center rounded-lg bg-gray-200"},K=o("div",{class:"mt-8 h-screen max-h-[170px] w-full animate-pulse rounded-lg bg-gray-200"},null,-1),L=o("hr",null,null,-1),U=x({__name:"ChannelView",props:{id:null},setup(d){const f=d,v=B(()=>E(()=>import("./TheError.4d261302.js"),["assets/TheError.4d261302.js","assets/index.253ef467.js","assets/index.9898ffc1.css"])),e=r(),a=r(),u=r([]),i=r(),g=V();async function p(n){try{const s=await T(n);s.authorBanners.length?j(s.authorBanners[0].url).catch(w=>i.value=w):i.value=new Error("No banner image"),e.value=s;const y=await F(n);u.value=y}catch(s){console.error(s.message),a.value=s}}return b(n=>{if(typeof n.params.id!="string")return!1;a.value=void 0,e.value=void 0,u.value=[],p(n.params.id).then(()=>{var s;a.value&&((s=a.value.response)==null?void 0:s.status)===404&&g.replace({name:"notFound"})})}),k(()=>{p(f.id).then(()=>{var n;a.value&&((n=a.value.response)==null?void 0:n.status)===404&&g.replace({name:"notFound"})})}),(n,s)=>(t(),l("main",A,[e.value&&!a.value?(t(),l(_,{key:0},[i.value?(t(),l("div",$,[c(h(N),{class:"text-gray-400",width:"32",height:"32"})])):(t(),l("div",z,[o("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"mt-8 rounded-lg object-cover"},null,8,D),o("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"absolute top-8 -z-10 max-h-[249px] w-full max-w-screen-2xl animate-pulse rounded-lg opacity-75 blur-2xl"},null,8,P)])),o("h1",null,[c(R,{name:e.value.author,"channels-id":e.value.authorId,subs:e.value.subCount,thumbnail:e.value.authorThumbnails,class:"pt-8"},null,8,["name","channels-id","subs","thumbnail"])])],64)):!e.value&&!a.value?(t(),l(_,{key:1},[K,c(q,{class:"pt-8"})],64)):a.value?(t(),m(h(v),{key:2,message:a.value.message,class:"items-center"},null,8,["message"])):C("",!0),L,a.value?(t(),m(h(v),{key:4,message:a.value.message},null,8,["message"])):(t(),m(I,{key:3,videos:u.value,query:d.id,"show-per-view":20,class:"py-4"},null,8,["videos","query"]))]))}});export{U as default};
