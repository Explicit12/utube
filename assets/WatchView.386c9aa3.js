import{y as su,k as s,c as a,e as t,F as D,q as O,d as nu,a as F,r as c,K as ou,s as au,b as ru,l as C,m as lu,o as iu,f as n,g as m,w as R,t as p,E as cu,v as w,D as T,L,_ as du,h as z,i as mu,M as _u,N as S,J as hu,O as pu,P as vu,Q as fu,x as P,R as q,S as yu,G as U}from"./index.d2907862.js";import{_ as gu,C as xu}from"./ChannelCompactSkeleton.61657c11.js";import"./SecondaryButton.635f9f1f.js";const Cu={},wu={class:"animate-pulse"},Du={class:"w-full"},Eu=t("div",{class:"h-4 w-4/5 rounded-sm bg-gray-400"},null,-1);function ku(_,u){return s(),a("div",wu,[t("div",Du,[Eu,(s(),a(D,null,O(3,e=>t("div",{key:e,class:"mt-2 h-4 w-6/12 rounded-sm bg-gray-200"})),64))])])}const bu=su(Cu,[["render",ku]]),Au={controls:"",playsinline:"",style:{"--plyr-color-main":"#2563eb"}},Fu=["src"],zu=["src"],Bu={key:1,class:"aspect-video animate-pulse rounded-lg bg-gray-200"},Vu={key:0},Iu={class:"font-sans text-lg font-bold text-gray-900 line-clamp-1"},Ru={class:"flex justify-between pt-2"},Tu={class:"font-sans text-base font-normal text-gray-400"},Lu={class:"flex gap-4"},Su={class:"flex items-center gap-2 font-sans text-base font-normal text-gray-400"},Pu={class:"rotate-180"},qu={class:"flex items-center gap-2 font-sans text-base font-normal text-gray-400"},Uu={key:1},Nu=t("div",{class:"h-4 w-4/5 rounded-sm bg-gray-400"},null,-1),Ou=[Nu],$u=t("hr",null,null,-1),Mu=t("hr",null,null,-1),Qu=t("hr",null,null,-1),ju={key:5,class:"flex flex-col gap-4 pb-8"},Gu={class:"pt-8 font-sans text-xl font-normal uppercase text-gray-400"},Ju={class:"pt-8 font-sans text-xl font-normal uppercase text-gray-400"},Ku=nu({__name:"WatchView",props:{watch:null,authorId:null},setup(_){const u=_,e=F(()=>z(()=>import("./TheError.f280b5a1.js"),["assets/TheError.f280b5a1.js","assets/index.d2907862.js","assets/index.e33d5092.css"])),$=F(()=>z(()=>import("./TheCommment.95c2d177.js"),["assets/TheCommment.95c2d177.js","assets/index.d2907862.js","assets/index.e33d5092.css","assets/isElemenetOverflow.e211b495.js"])),M=F(()=>z(()=>import("./VideoDiscription.8b393f7e.js"),["assets/VideoDiscription.8b393f7e.js","assets/index.d2907862.js","assets/index.e33d5092.css","assets/isElemenetOverflow.e211b495.js"])),E=c([]),v=c([]),g=c([]),r=c(),l=c(),f=c(""),d=c(),Q=ou(),{isMenuOpen:x,userLocale:k}=au(Q),{t:b}=ru(),B=yu(),V=mu(),j={play:"\u041F\u043B\u0435\u0439",pause:"\u041F\u0430\u0443\u0437\u0430",currentTime:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0432\u0440\u0435\u043C\u044F",duration:"\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",volume:"\u0413\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u044C",mute:"\u0412\u044B\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0437\u0432\u0443\u043A",unmute:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0437\u0432\u0443\u043A",enterFullscreen:"\u0412\u043E\u0439\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043C \u043F\u043E\u043B\u043D\u043E\u0433\u043E \u044D\u043A\u0440\u0430\u043D\u0430",exitFullscreen:"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0436\u0438\u043C\u0430 \u043F\u043E\u043B\u043D\u043E\u0433\u043E \u044D\u043A\u0440\u0430\u043D\u0430",settings:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",speed:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C",normal:"\u041D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u0430\u044F",quality:"\u041A\u0430\u0447\u0435\u0441\u0442\u0432\u043E"},G={play:"\u041F\u043B\u0435\u0439",pause:"\u041F\u0443\u0437\u0430",currentTime:"\u041F\u043E\u0442\u043E\u0447\u043D\u0438\u0439 \u0447\u0430\u0441",duration:"\u0422\u0440\u0438\u0432\u0430\u043B\u0456\u0442\u044C",volume:"\u0413\u0443\u0447\u043D\u0456\u0441\u0442\u044C",mute:"\u0412\u0438\u043C\u043A\u043D\u0443\u0442\u0438 \u0437\u0432\u0443\u043A",unmute:"\u0423\u0432\u0456\u043C\u043A\u043D\u0443\u0442\u0438 \u0437\u0432\u0443\u043A",enterFullscreen:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u0440\u0435\u0436\u0438\u043C \u043F\u043E\u043B\u043D\u043E\u0433\u043E \u044D\u043A\u0440\u0430\u043D\u0443",exitFullscreen:"\u0412\u0438\u0439\u0442\u0438 \u0437 \u0440\u0435\u0436\u0438\u043C\u0443 \u043F\u043E\u043B\u043D\u043E\u0433\u043E \u044D\u043A\u0440\u0430\u043D\u0443",settings:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F",speed:"\u0428\u0432\u0438\u0434\u043A\u0456\u0441\u0442\u044C",normal:"\u041D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u0430",quality:"\u042F\u043A\u0456\u0441\u0442\u044C"},J=C(()=>k.value==="en-US"?{}:k.value==="uk-UA"?G:k.value==="ru-RU"?j:{}),K=C(()=>r.value?U(r.value.likeCount):""),W=C(()=>r.value?U(r.value.viewCount):""),H=C(()=>typeof B.query.watch=="string"?B.query.watch:""),X=c({autoplay:!0,ratio:"16:9",i18n:J});async function I(o,y){try{const h=await _u(o);v.value=h;const A=await S(o);r.value=A;const i=await hu(y);l.value=i;const Y=await pu(o);f.value=Y;const Z=await vu(o),uu=await Promise.all(Z.slice(0,20).map(tu=>S(tu.videoId)));E.value=uu;const eu=await fu(o);g.value=eu}catch(h){console.error(h),d.value=h}}return lu(o=>{if(typeof o.query.watch!="string"||typeof o.params.authorId!="string")return!1;r.value=void 0,l.value=void 0,f.value="",v.value=[],E.value=[],g.value=[],I(o.query.watch,o.params.authorId).then(()=>{var y;d.value&&((y=d.value.response)==null?void 0:y.status)===404&&V.replace({name:"notFound"})})}),iu(()=>{I(u.watch,u.authorId).then(()=>{var o;d.value&&((o=d.value.response)==null?void 0:o.status)===404&&V.replace({name:"notFound"})})}),(o,y)=>{const h=P("vue-plyr"),A=P("RouterLink");return s(),a("main",{class:L(["grid-col-1 grid gap-6 px-4",{"xl:grid-cols-3":!n(x),"2xl:grid-cols-3":n(x)}])},[d.value?(s(),m(n(e),{key:1,message:d.value.message,class:"col-span-full row-span-full"},null,8,["message"])):(s(),a(D,{key:0},[t("div",{class:L([{"xl:col-span-2":!n(x),"2xl:col-span-2":n(x)},"flex flex-col gap-4"])},[(s(),a("div",{key:n(H),class:"mt-8"},[v.value.length?(s(),m(h,{key:0,options:X.value},{default:R(()=>[t("video",Au,[t("source",{size:"720",src:v.value[1].url,type:"video/mp4"},null,8,Fu),t("source",{size:"1080",src:v.value[2].url,type:"video/mp4"},null,8,zu)])]),_:1},8,["options"])):(s(),a("div",Bu))])),r.value?(s(),a("div",Vu,[t("h2",Iu,p(r.value.title),1),t("div",Ru,[t("span",Tu,p(n(W))+" "+p(n(b)("views")),1),t("div",Lu,[t("span",Su,[cu(p(n(K))+" ",1),t("span",Pu,[w(n(q),{width:"24",height:"24",clss:"text-gray-400"})])]),t("span",qu,[w(n(q),{width:"24",height:"24",clss:"text-gray-900"})])])])])):(s(),a("div",Uu,Ou)),$u,l.value?(s(),m(A,{key:2,to:{name:"channel",params:{id:l.value.authorId}}},{default:R(()=>[w(gu,{name:l.value.author,subs:l.value.subCount,"channels-id":l.value.authorId,thumbnail:l.value.authorThumbnails},null,8,["name","subs","channels-id","thumbnail"])]),_:1},8,["to"])):(s(),m(xu,{key:3})),Mu,f.value!=="<p></p>"?(s(),a(D,{key:4},[f.value?(s(),m(n(M),{key:0,"discription-html":f.value},null,8,["discription-html"])):(s(),m(bu,{key:1})),Qu],64)):T("",!0),g.value.length?(s(),a("div",ju,[t("h3",Gu,p(n(b)("comments.headline")),1),(s(!0),a(D,null,O(g.value,i=>(s(),m(n($),{key:i.commentId,author:{name:i.author,authorId:i.authorId,thumbnails:i.authorThumbnails},content:i.content,published:i.published},null,8,["author","content","published"]))),128))])):T("",!0)],2),t("div",null,[t("h3",Ju,p(n(b)("recommendations.headline")),1),w(du,{class:"py-2","show-per-view":10,videos:E.value,"horizontal-layout":!0},null,8,["videos"])])],64))],2)}}});function N(_){_.__i18n=_.__i18n||[],_.__i18n.push({locale:"",resource:{"en-US":{views:u=>{const{normalize:e}=u;return e(["views"])},recommendations:{headline:u=>{const{normalize:e}=u;return e(["Recommended"])}},comments:{headline:u=>{const{normalize:e}=u;return e(["Comments"])}}},"uk-UA":{views:u=>{const{normalize:e}=u;return e(["\u043F\u0435\u0440\u0435\u0433\u043B\u044F\u0434\u0456\u0432"])},recommendations:{headline:u=>{const{normalize:e}=u;return e(["\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0456\u0457"])}},comments:{headline:u=>{const{normalize:e}=u;return e(["\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0456"])}}},"ru-RU":{views:u=>{const{normalize:e}=u;return e(["\u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u043E\u0432"])},recommendations:{headline:u=>{const{normalize:e}=u;return e(["\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438"])}},comments:{headline:u=>{const{normalize:e}=u;return e(["\u041A\u043E\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438"])}}}}})}typeof N=="function"&&N(Ku);export{Ku as default};
