import{d as x,a as B,r as o,m as b,o as k,c as l,F as _,e as r,v as c,f as h,g as m,D as C,_ as I,h as E,i as V,J as T,B as j,j as F,k as t,I as N}from"./index.d2907862.js";import{_ as R,C as q}from"./ChannelCompactSkeleton.61657c11.js";import"./SecondaryButton.635f9f1f.js";const A={class:"flex flex-col justify-center gap-4 px-4"},D={key:0,class:"relative"},P=["src","width","height"],$=["src","width","height"],z={key:1,class:"mt-8 flex h-screen max-h-[170px] w-full items-center justify-center rounded-lg bg-gray-200"},J=r("div",{class:"mt-8 h-screen max-h-[170px] w-full animate-pulse rounded-lg bg-gray-200"},null,-1),L=r("hr",null,null,-1),U=x({__name:"ChannelView",props:{id:null},setup(d){const f=d,v=B(()=>E(()=>import("./TheError.f280b5a1.js"),["assets/TheError.f280b5a1.js","assets/index.d2907862.js","assets/index.e33d5092.css"])),e=o(),a=o(),u=o([]),i=o(),g=V();async function p(n){try{const s=await T(n);s.authorBanners.length?j(s.authorBanners[0].url).catch(w=>i.value=w):i.value=new Error("No banner image"),e.value=s;const y=await F(n);u.value=y}catch(s){console.error(s.message),a.value=s}}return b(n=>{if(typeof n.params.id!="string")return!1;a.value=void 0,e.value=void 0,u.value=[],p(n.params.id).then(()=>{var s;a.value&&((s=a.value.response)==null?void 0:s.status)===404&&g.replace({name:"notFound"})})}),k(()=>{p(f.id).then(()=>{var n;a.value&&((n=a.value.response)==null?void 0:n.status)===404&&g.replace({name:"notFound"})})}),(n,s)=>(t(),l("main",A,[e.value&&!a.value?(t(),l(_,{key:0},[i.value?(t(),l("div",z,[c(h(N),{class:"text-gray-400",width:"32",height:"32"})])):(t(),l("div",D,[r("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"mt-8 rounded-lg object-cover"},null,8,P),r("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"absolute top-8 -z-10 max-h-[249px] w-full max-w-screen-2xl animate-pulse rounded-lg opacity-75 blur-2xl"},null,8,$)])),c(R,{name:e.value.author,"channels-id":e.value.authorId,subs:e.value.subCount,thumbnail:e.value.authorThumbnails,class:"pt-8"},null,8,["name","channels-id","subs","thumbnail"])],64)):!e.value&&!a.value?(t(),l(_,{key:1},[J,c(q,{class:"pt-8"})],64)):a.value?(t(),m(h(v),{key:2,message:a.value.message,class:"items-center"},null,8,["message"])):C("",!0),L,a.value?(t(),m(h(v),{key:4,message:a.value.message},null,8,["message"])):(t(),m(I,{key:3,videos:u.value,query:d.id,"show-per-view":20,class:"py-4"},null,8,["videos","query"]))]))}});export{U as default};
