import{d as x,a as w,r as o,m as k,o as B,c as l,F as _,e as r,p as c,f as h,g as d,C,_ as I,h as E,i as V,K as T,A as j,j as A,k as t,I as F}from"./index.c2e069dc.js";import{_ as N,C as R}from"./ChannelCompactSkeleton.4e3cf7cd.js";import"./TheButton.vue_vue_type_script_setup_true_lang.56f34d52.js";const q={class:"flex flex-col justify-center gap-4 px-4 lg:px-16"},D={key:0,class:"relative"},P=["src","width","height"],$=["src","width","height"],z={key:1,class:"mt-8 flex h-screen max-h-[170px] w-full items-center justify-center rounded-lg bg-gray-200 dark:bg-gray-800"},K=r("div",{class:"mt-8 h-screen max-h-[170px] w-full animate-pulse rounded-lg bg-gray-200 dark:bg-gray-800"},null,-1),L=r("hr",{class:"border-t-2 dark:border-gray-400"},null,-1),U=x({__name:"ChannelView",props:{id:null},setup(m){const f=m,g=w(()=>E(()=>import("./TheError.b6160b18.js"),["assets/TheError.b6160b18.js","assets/index.c2e069dc.js","assets/index.79473856.css"])),e=o(),a=o(),u=o([]),i=o(),v=V();async function p(n){try{const s=await T(n);s.authorBanners.length?j(s.authorBanners[0].url).catch(b=>i.value=b):i.value=new Error("No banner image"),e.value=s;const y=await A(n);u.value=y}catch(s){console.error(s.message),a.value=s}}return k(n=>{if(typeof n.params.id!="string")return!1;a.value=void 0,e.value=void 0,u.value=[],p(n.params.id).then(()=>{var s;a.value&&((s=a.value.response)==null?void 0:s.status)===404&&v.replace({name:"notFound"})})}),B(()=>{p(f.id).then(()=>{var n;a.value&&((n=a.value.response)==null?void 0:n.status)===404&&v.replace({name:"notFound"})})}),(n,s)=>(t(),l("main",q,[e.value&&!a.value?(t(),l(_,{key:0},[i.value?(t(),l("div",z,[c(h(F),{class:"text-gray-400 dark:text-gray-300",width:"32",height:"32"})])):(t(),l("div",D,[r("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"mt-8 rounded-lg object-cover"},null,8,P),r("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"absolute top-8 -z-10 max-h-[249px] w-full max-w-screen-2xl animate-pulse rounded-lg opacity-75 blur-2xl"},null,8,$)])),r("h1",null,[c(N,{name:e.value.author,"channels-id":e.value.authorId,subs:e.value.subCount,thumbnail:e.value.authorThumbnails,class:"pt-8"},null,8,["name","channels-id","subs","thumbnail"])])],64)):!e.value&&!a.value?(t(),l(_,{key:1},[K,c(R,{class:"pt-8"})],64)):a.value?(t(),d(h(g),{key:2,message:a.value.message,class:"items-center"},null,8,["message"])):C("",!0),L,a.value?(t(),d(h(g),{key:4,message:a.value.message},null,8,["message"])):(t(),d(I,{key:3,videos:u.value,query:m.id,"show-per-view":20,class:"py-4"},null,8,["videos","query"]))]))}});export{U as default};
