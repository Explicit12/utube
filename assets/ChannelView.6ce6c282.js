import{d as x,a as b,r,m as B,o as C,c as l,F as _,e as o,p as c,f as h,g as m,C as k,_ as I,h as E,i as V,L as T,A as j,j as A,k as t,I as F}from"./index.883e5150.js";import{_ as N,C as R}from"./ChannelCompactSkeleton.f5081869.js";import"./TheButton.vue_vue_type_script_setup_true_lang.8f9866de.js";const q={class:"flex flex-col justify-center gap-4 px-4 lg:px-6"},D={key:0,class:"relative"},L=["src","width","height"],P=["src","width","height"],$={key:1,class:"mt-8 flex h-screen max-h-[170px] w-full items-center justify-center rounded-lg bg-gray-200"},z=o("div",{class:"mt-8 h-screen max-h-[170px] w-full animate-pulse rounded-lg bg-gray-200"},null,-1),M=o("hr",null,null,-1),G=x({__name:"ChannelView",props:{id:null},setup(d){const f=d,v=b(()=>E(()=>import("./TheError.0668a5eb.js"),["assets/TheError.0668a5eb.js","assets/index.883e5150.js","assets/index.d24e2409.css"])),e=r(),a=r(),u=r([]),i=r(),g=V();async function p(n){try{const s=await T(n);s.authorBanners.length?j(s.authorBanners[0].url).catch(w=>i.value=w):i.value=new Error("No banner image"),e.value=s;const y=await A(n);u.value=y}catch(s){console.error(s.message),a.value=s}}return B(n=>{if(typeof n.params.id!="string")return!1;a.value=void 0,e.value=void 0,u.value=[],p(n.params.id).then(()=>{var s;a.value&&((s=a.value.response)==null?void 0:s.status)===404&&g.replace({name:"notFound"})})}),C(()=>{p(f.id).then(()=>{var n;a.value&&((n=a.value.response)==null?void 0:n.status)===404&&g.replace({name:"notFound"})})}),(n,s)=>(t(),l("main",q,[e.value&&!a.value?(t(),l(_,{key:0},[i.value?(t(),l("div",$,[c(h(F),{class:"text-gray-400",width:"32",height:"32"})])):(t(),l("div",D,[o("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"mt-8 rounded-lg object-cover"},null,8,L),o("img",{src:e.value.authorBanners[0].url,alt:"ChannelThumbnail",width:e.value.authorBanners[0].width,height:e.value.authorBanners[0].height,class:"absolute top-8 -z-10 max-h-[249px] w-full max-w-screen-2xl animate-pulse rounded-lg opacity-75 blur-2xl"},null,8,P)])),o("h1",null,[c(N,{name:e.value.author,"channels-id":e.value.authorId,subs:e.value.subCount,thumbnail:e.value.authorThumbnails,class:"pt-8"},null,8,["name","channels-id","subs","thumbnail"])])],64)):!e.value&&!a.value?(t(),l(_,{key:1},[z,c(R,{class:"pt-8"})],64)):a.value?(t(),m(h(v),{key:2,message:a.value.message,class:"items-center"},null,8,["message"])):k("",!0),M,a.value?(t(),m(h(v),{key:4,message:a.value.message},null,8,["message"])):(t(),m(I,{key:3,videos:u.value,query:d.id,"show-per-view":20,class:"py-4"},null,8,["videos","query"]))]))}});export{G as default};
