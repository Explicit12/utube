import{d as B,a as E,r as n,l as i,m as R,o as V,n as v,p,c as u,F as f,q as y,f as _,g as c,_ as I,e as C,h as S,k as a,w as L,v as T,x as A}from"./index.7a3ff6ff.js";import{_ as Q,C as F}from"./ChannelCompactSkeleton.67ea81b4.js";import"./SecondaryButton.21a9cf9e.js";const N={class:"flex max-w-screen-xl flex-col justify-center px-4"},P={key:0,class:"flex flex-col gap-4 pt-8"},$=C("hr",null,null,-1),j={key:1,class:"flex flex-col gap-4 pt-8"},z=C("hr",null,null,-1),U=B({__name:"SearchView",props:{searchQuery:null},setup(k){const d=k,x=E(()=>S(()=>import("./TheError.9a640f7d.js"),["assets/TheError.9a640f7d.js","assets/index.7a3ff6ff.js","assets/index.e33d5092.css"])),h=n(),r=n(),o=n([]),l=n([]),m=n(3),b=i(()=>[...o.value].sort((e,s)=>e.subCount&&s.subCount?s.subCount-e.subCount:0)),g=i(()=>b.value.slice(0,m.value)),q=i(()=>l.value.filter(e=>e.published&&e.viewCount));return R(e=>{if(typeof e.query.search_query!="string")return!1;o.value=[],l.value=[],v(e.query.search_query).then(s=>{o.value=s}).catch(s=>h.value=s),p(e.query.search_query).then(s=>{l.value=s}).catch(s=>r.value=s)}),V(()=>{v(d.searchQuery).then(e=>{o.value=e}).catch(e=>h.value=e),p(d.searchQuery).then(e=>{l.value=e}).catch(e=>r.value=e)}),(e,s)=>{const w=A("RouterLink");return a(),u("main",N,[o.value.length&&!h.value?(a(),u("div",P,[(a(!0),u(f,null,y(_(g),t=>(a(),c(w,{key:t.authorId,to:{name:"channel",params:{id:t.authorId}}},{default:L(()=>[T(Q,{name:t.author,subs:t.subCount?t.subCount:0,thumbnail:t.authorThumbnails,"channels-id":t.authorId},null,8,["name","subs","thumbnail","channels-id"])]),_:2},1032,["to"]))),128)),$])):(a(),u("div",j,[(a(!0),u(f,null,y(m.value,t=>(a(),c(F,{key:t}))),128)),z])),r.value?(a(),c(_(x),{key:3,message:r.value.message},null,8,["message"])):(a(),c(I,{key:2,videos:_(q),"show-per-view":10,"horizontal-layout":!0,class:"py-4"},null,8,["videos"]))])}}});export{U as default};
