import{k as r,c as i,e as h,d as x,u as I,r as p,s as O,l as $,b as A,$ as B,o as S,K as g,F as _,n as v,p as y,x as b,f as d,t as k,g as T,D as L,C as D,y as N}from"./index.77c11206.js";import{a as V,_ as R}from"./TheButton.vue_vue_type_script_setup_true_lang.0577cd4e.js";const E={},F=h("span",{class:"flex animate-pulse items-center gap-2"},[h("div",{class:"h-8 w-10 rounded-lg bg-gray-200 dark:bg-gray-800"}),h("span",{class:"h-4 w-full rounded-sm bg-gray-200 dark:bg-gray-800"})],-1),M=[F];function P(u,e){return r(),i("li",null,M)}const K=V(E,[["render",P]]),U={class:"space-y-2 pt-6"},j=["src","alt"],q={key:1,class:"h-8 w-8 rounded-lg bg-gray-200 dark:bg-gray-800"},G={class:"overflow-hidden text-ellipsis whitespace-nowrap"},H=x({__name:"SubscriptionList",setup(u){const a=I(),t=p([]),m=p(6),{subscriptions:c}=O(a),C=$(()=>t.value.slice(0,m.value)),{t:f}=A();function w(s,l){return Boolean(l.find(o=>o.authorId===s.authorId))}return B(()=>c.value.size,async()=>{const s=t.value.find(o=>!c.value.has(o.authorId)),l=[...c.value].filter(o=>!t.value.find(n=>n.authorId===o));s&&s.authorId&&(t.value=t.value.filter(o=>o.authorId!==s.authorId)),l.length&&(await Promise.all(l.map(n=>g(n)))).forEach(n=>{w(n,t.value)||t.value.push(n)})}),S(()=>{Promise.all([...c.value].map(g)).then(s=>{t.value=s})}),(s,l)=>{const o=N("RouterLink");return r(),i(_,null,[h("ul",U,[t.value.length?(r(!0),i(_,{key:0},v(d(C),n=>(r(),i("li",{key:n.author,class:"rounded-lg p-2 hover:bg-blue-50 dark:hover:bg-gray-800"},[y(o,{to:{name:"channel",params:{id:n.authorId}},class:"group flex items-center gap-2 font-sans font-normal text-gray-900 dark:text-white"},{default:b(()=>[n.authorThumbnails[0]?(r(),i("img",{key:0,src:n.authorThumbnails[0].url,decoding:"async",referrerpolicy:"no-referrer",crossorigin:"anonymous",loading:"lazy",alt:`${n.author} ${d(f)("channel-avatar-alt")}`,class:"rounded-lg",width:"32",height:"32"},null,8,j)):(r(),i("div",q)),h("span",G,k(n.author),1)]),_:2},1032,["to"])]))),128)):(r(),i(_,{key:1},v(6,n=>y(K,{key:n,class:"p-2"})),64))]),t.value.length&&t.value.length>6?(r(),T(R,{key:0,type:"secondary",class:"mt-4 w-full",onClick:l[0]||(l[0]=n=>m.value=m.value===6?d(c).size:6)},{default:b(()=>[L(k(m.value<=6?d(f)("button-more"):d(f)("button-less")),1)]),_:1})):D("",!0)],64)}}});function z(u){u.__i18n=u.__i18n||[],u.__i18n.push({locale:"",resource:{en:{"button-more":e=>{const{normalize:a}=e;return a(["More"])},"button-less":e=>{const{normalize:a}=e;return a(["Less"])},"channel-avatar-alt":e=>{const{normalize:a}=e;return a(["avatar"])}},uk:{"button-more":e=>{const{normalize:a}=e;return a(["\u0411\u0456\u043B\u044C\u0448\u0435"])},"button-less":e=>{const{normalize:a}=e;return a(["\u041C\u0435\u043D\u0448\u0435"])},"channel-avatar-alt":e=>{const{normalize:a}=e;return a(["\u0430\u0432\u0430\u0442\u0430\u0440"])}},ru:{"button-more":e=>{const{normalize:a}=e;return a(["\u0415\u0449\u0451"])},"button-less":e=>{const{normalize:a}=e;return a(["\u041C\u0435\u043D\u044C\u0448\u0435"])},"channel-avatar-alt":e=>{const{normalize:a}=e;return a(["\u0430\u0432\u0430\u0442\u0430\u0440"])}}}})}typeof z=="function"&&z(H);export{H as default};
