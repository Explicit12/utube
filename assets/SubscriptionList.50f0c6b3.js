import{k as s,c as o,e as m,d as I,u as S,r as g,s as O,l as A,b as $,U as T,o as B,K as v,F as p,n as y,p as b,x as z,f as d,t as k,g as L,D,C as N,y as V}from"./index.126353d9.js";import{a as R,_ as E}from"./TheButton.vue_vue_type_script_setup_true_lang.90c0c1b9.js";const F={},M=m("span",{class:"flex animate-pulse items-center gap-2"},[m("div",{class:"h-8 w-10 rounded-lg bg-gray-200 dark:bg-gray-800"}),m("span",{class:"h-4 w-full rounded-sm bg-gray-200 dark:bg-gray-800"})],-1),P=[M];function U(l,e){return s(),o("li",null,P)}const K=R(F,[["render",U]]),j={class:"space-y-2 pt-6"},q=["src","alt"],G={key:1,class:"h-8 w-8 rounded-lg bg-gray-200 dark:bg-gray-800"},H={class:"overflow-hidden text-ellipsis whitespace-nowrap"},J=I({__name:"SubscriptionList",setup(l){const a=S(),n=g(new Set),h=g(6),{subscriptions:i}=O(a),C=A(()=>new Set([...n.value].slice(0,h.value))),{t:_}=$();return T(()=>i.value.size,async()=>{var f;const u=(f=[...n.value].find(t=>!i.value.has(t.authorId)))==null?void 0:f.authorId,c=[...i.value].filter(t=>![...n.value].find(r=>r.authorId===t));u?n.value=new Set([...n.value].filter(t=>t.authorId!==u)):c.length&&(await Promise.all(c.map(r=>v(r)))).forEach(r=>{[...n.value].find(x=>x.authorId===r.authorId)||n.value.add(r)})}),B(()=>{Promise.all([...i.value].map(v)).then(u=>{n.value=new Set(u)})}),(u,c)=>{const f=V("RouterLink");return s(),o(p,null,[m("ul",j,[n.value.size?(s(!0),o(p,{key:0},y(d(C),t=>(s(),o("li",{key:t.author,class:"rounded-lg p-2 hover:bg-blue-50 dark:hover:bg-gray-800"},[b(f,{to:{name:"channel",params:{id:t.authorId}},class:"group flex items-center gap-2 font-sans font-normal text-gray-900 dark:text-white"},{default:z(()=>[t.authorThumbnails[0]?(s(),o("img",{key:0,src:t.authorThumbnails[0].url,decoding:"async",referrerpolicy:"no-referrer",crossorigin:"anonymous",loading:"lazy",alt:`${t.author} ${d(_)("channel-avatar-alt")}`,class:"rounded-lg",width:"32",height:"32"},null,8,q)):(s(),o("div",G)),m("span",H,k(t.author),1)]),_:2},1032,["to"])]))),128)):(s(),o(p,{key:1},y(6,t=>b(K,{key:t,class:"p-2"})),64))]),n.value.size&&n.value.size>6?(s(),L(E,{key:0,type:"secondary",class:"mt-4 w-full",onClick:c[0]||(c[0]=t=>h.value=h.value===6?d(i).size:6)},{default:z(()=>[D(k(h.value<=6?d(_)("button-more"):d(_)("button-less")),1)]),_:1})):N("",!0)],64)}}});function w(l){l.__i18n=l.__i18n||[],l.__i18n.push({locale:"",resource:{en:{"button-more":e=>{const{normalize:a}=e;return a(["More"])},"button-less":e=>{const{normalize:a}=e;return a(["Less"])},"channel-avatar-alt":e=>{const{normalize:a}=e;return a(["avatar"])}},uk:{"button-more":e=>{const{normalize:a}=e;return a(["\u0411\u0456\u043B\u044C\u0448\u0435"])},"button-less":e=>{const{normalize:a}=e;return a(["\u041C\u0435\u043D\u0448\u0435"])},"channel-avatar-alt":e=>{const{normalize:a}=e;return a(["\u0430\u0432\u0430\u0442\u0430\u0440"])}},ru:{"button-more":e=>{const{normalize:a}=e;return a(["\u0415\u0449\u0451"])},"button-less":e=>{const{normalize:a}=e;return a(["\u041C\u0435\u043D\u044C\u0448\u0435"])},"channel-avatar-alt":e=>{const{normalize:a}=e;return a(["\u0430\u0432\u0430\u0442\u0430\u0440"])}}}})}typeof w=="function"&&w(J);export{J as default};
