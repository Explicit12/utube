import{d as v,a as x,b as w,u as k,r as d,X as z,c as D,e as m,t as E,f as _,g as C,D as S,h as T,k as g}from"./index.f34d2c2f.js";async function y(t){const r=new FileReader;return r.readAsText(t),new Promise(e=>{r.onload=i=>e(A(i))})}async function A(t){const e=t.target.result;if(typeof e=="string"){const i=e.slice(0,e.indexOf(`
`)).split(",");return e.slice(e.indexOf(`
`)+1).split(`
`).map(u=>{const o=u.split(",");return i.reduce((l,f,p)=>(l[f]=o[p],l),{})})}}const B=v({__name:"SubscriptionFileInput",setup(t){const r=x(()=>T(()=>import("./TheError.7af527c4.js"),["assets/TheError.7af527c4.js","assets/index.f34d2c2f.js","assets/index.e33d5092.css"])),{t:e}=w(),i=k(),{subscribeToChannel:u}=i,o=d(),l=d();async function f(n){try{if(n&&n[0].type==="text/csv"){o.value=void 0;const s=await y(n[0]);s==null||s.forEach(c=>u(c["Channel Id"]))}else throw new Error("Wrong file type")}catch(s){console.error(s.message),o.value=s}}async function p(n){const c=(n==null?void 0:n.currentTarget).files;try{if(c&&c[0].type==="text/csv"){o.value=void 0;const a=await y(c[0]);a==null||a.forEach(h=>u(h["Channel Id"]))}else throw new Error("Wrong file type")}catch(a){console.error(a.message),o.value=a}}return z(l,f),(n,s)=>(g(),D("div",null,[m("div",{ref_key:"importDropZone",ref:l,class:"mt-6 flex h-64 w-full items-center justify-center rounded-lg border-4 border-dashed border-blue-600 p-4 text-center"},E(_(e)("drop-zone")),513),m("input",{type:"file",class:"mt-4 block w-full font-sans text-base font-normal text-gray-900 file:block file:w-full file:rounded-lg file:border-2 file:border-transparent file:bg-blue-50 file:py-2 file:px-4 hover:cursor-pointer file:hover:cursor-pointer",onChange:p},null,32),o.value?(g(),C(_(r),{key:0,message:o.value.message,class:"h-fit p-2"},null,8,["message"])):S("",!0)]))}});function b(t){t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{"en-US":{"drop-zone":r=>{const{normalize:e}=r;return e(["Drop subscriptions.csv file here"])}},"uk-UA":{"drop-zone":r=>{const{normalize:e}=r;return e(["\u041F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0441\u044E\u0434\u0438 subscriptions.csv \u0444\u0430\u0439\u043B"])}},"ru-RU":{"drop-zone":r=>{const{normalize:e}=r;return e(["\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 subscriptions.csv \u0444\u0430\u0439\u043B \u0441\u044E\u0434\u0430"])}}}})}typeof b=="function"&&b(B);export{B as default};
